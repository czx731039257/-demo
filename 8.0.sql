/*
SQLyog Professional v12.08 (32 bit)
MySQL - 5.7.26 : Database - internship2
*********************************************************************
*/

/*!40101 SET NAMES utf8 */;

/*!40101 SET SQL_MODE=''*/;

/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;
CREATE DATABASE /*!32312 IF NOT EXISTS*/`internship2` /*!40100 DEFAULT CHARACTER SET utf8 */;

USE `internship2`;

/*Table structure for table `billitem` */

DROP TABLE IF EXISTS `billitem`;

CREATE TABLE `billitem` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `type` varchar(255) DEFAULT NULL,
  `money` int(11) DEFAULT NULL,
  `user_id` int(11) DEFAULT NULL,
  `date` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `billitem_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=130 DEFAULT CHARSET=utf8;

/*Data for the table `billitem` */

insert  into `billitem`(`id`,`type`,`money`,`user_id`,`date`) values (2,'消费',10,10,'2019-08-21 11:17:38'),(3,'消费',10,10,'2019-08-21 11:19:34'),(4,'充值',10,10,'2019-08-21 12:28:39'),(5,'充值',10,10,'2019-08-21 12:28:42'),(6,'充值',10,10,'2019-08-21 12:29:00'),(7,'充值',10,10,'2019-08-21 12:29:02'),(8,'充值',10,10,'2019-08-21 12:29:04'),(9,'充值',10,10,'2019-08-21 12:29:07'),(10,'充值',10,10,'2019-08-21 12:29:09'),(11,'充值',10,10,'2019-08-21 12:29:18'),(12,'充值',10,10,'2019-08-21 12:29:22'),(13,'消费',10,10,'2019-08-21 12:33:23'),(14,'消费',20,10,'2019-08-21 12:33:32'),(15,'消费',0,10,'2019-08-21 12:56:59'),(16,'消费',0,10,'2019-08-21 12:57:00'),(17,'消费',0,10,'2019-08-21 12:57:00'),(18,'消费',0,10,'2019-08-21 12:57:01'),(19,'消费',0,10,'2019-08-21 12:57:01'),(20,'消费',0,10,'2019-08-21 12:57:02'),(21,'消费',0,10,'2019-08-21 12:57:03'),(22,'消费',0,10,'2019-08-21 12:57:04'),(23,'消费',0,10,'2019-08-21 12:57:05'),(24,'消费',0,10,'2019-08-21 12:57:05'),(25,'消费',0,10,'2019-08-21 12:57:06'),(26,'消费',0,10,'2019-08-21 12:57:07'),(27,'消费',0,10,'2019-08-21 12:57:07'),(28,'消费',0,10,'2019-08-21 12:57:08'),(29,'消费',0,10,'2019-08-21 12:57:09'),(30,'消费',0,10,'2019-08-21 12:57:09'),(31,'消费',0,10,'2019-08-21 12:57:10'),(32,'消费',0,10,'2019-08-21 12:57:11'),(33,'消费',0,10,'2019-08-21 12:57:14'),(34,'消费',1,10,'2019-08-21 12:57:19'),(35,'消费',0,10,'2019-08-21 12:59:37'),(36,'消费',0,10,'2019-08-21 13:03:42'),(37,'消费',1,10,'2019-08-21 13:06:04'),(38,'消费',2,10,'2019-08-21 13:08:39'),(39,'充值',10,10,'2019-08-21 13:12:32'),(40,'消费',1,10,'2019-08-21 13:38:31'),(41,'充值',10,10,'2019-08-21 13:43:08'),(48,'消费',1,10,'2019-08-21 13:44:01'),(49,'消费',1,10,'2019-08-21 13:44:04'),(50,'消费',1,10,'2019-08-21 13:44:07'),(53,'消费',1,10,'2019-08-21 13:46:01'),(55,'消费',1,10,'2019-08-21 13:46:06'),(57,'消费',1,10,'2019-08-21 13:46:11'),(60,'消费',5,10,'2019-08-21 13:46:22'),(64,'消费',1,10,'2019-08-21 13:46:32'),(65,'充值',10,10,'2019-08-21 13:47:30'),(67,'消费',5,10,'2019-08-21 13:47:38'),(70,'消费',5,10,'2019-08-21 13:47:51'),(73,'充值',10,10,'2019-08-21 13:56:30'),(76,'消费',5,10,'2019-08-21 13:56:41'),(77,'消费',5,10,'2019-08-21 13:56:43'),(78,'消费',5,10,'2019-08-21 13:56:46'),(79,'消费',5,10,'2019-08-21 13:56:50'),(80,'充值',10,10,'2019-08-21 13:59:04'),(82,'消费',1,10,'2019-08-21 13:59:16'),(84,'消费',5,10,'2019-08-21 13:59:21'),(85,'消费',5,10,'2019-08-21 13:59:31'),(86,'充值',10,10,'2019-08-21 14:01:13'),(88,'消费',5,10,'2019-08-21 14:01:24'),(90,'消费',1,10,'2019-08-21 14:04:15'),(92,'消费',1,10,'2019-08-21 14:06:09'),(93,'消费',1,10,'2019-08-21 14:18:16'),(94,'消费',1,10,'2019-08-21 14:18:20'),(95,'消费',1,10,'2019-08-21 14:18:23'),(96,'充值',10,10,'2019-08-21 14:18:53'),(99,'消费',5,10,'2019-08-21 14:23:05'),(101,'消费',1,10,'2019-08-21 14:26:34'),(104,'消费',3,10,'2019-08-21 14:29:39'),(107,'消费',1,10,'2019-08-21 14:29:50'),(108,'充值',5,10,'2019-08-21 14:32:14'),(110,'消费',5,10,'2019-08-21 14:32:22'),(111,'充值',2,10,'2019-08-21 14:55:29'),(113,'消费',1,10,'2019-08-21 14:55:50'),(114,'充值',10,10,'2019-08-21 15:06:40'),(115,'充值',10,10,'2019-08-21 15:08:55'),(116,'充值',10,10,'2019-08-21 15:10:26'),(117,'充值',10,10,'2019-08-21 15:12:17'),(118,'充值',10,10,'2019-08-21 15:13:37'),(119,'充值',10,10,'2019-08-21 15:13:51'),(120,'充值',10,10,'2019-08-21 16:01:45'),(121,'消费',10,10,'2019-08-21 16:01:51'),(122,'消费',61,10,'2019-08-21 16:02:06'),(123,'充值',10,10,'2019-08-21 16:07:21'),(124,'消费',1,10,'2019-08-21 16:07:26'),(127,'消费',1,10,'2019-08-21 16:07:52'),(128,'消费',1,10,'2019-08-21 16:07:54');

/*Table structure for table `group` */

DROP TABLE IF EXISTS `group`;

CREATE TABLE `group` (
  `id` int(11) NOT NULL,
  `name` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

/*Data for the table `group` */

insert  into `group`(`id`,`name`) values (1,'组一'),(2,'组二'),(3,'组三'),(4,'超级管理员组');

/*Table structure for table `headportrait` */

DROP TABLE IF EXISTS `headportrait`;

CREATE TABLE `headportrait` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `user_id` int(11) DEFAULT NULL,
  `image_url` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE,
  KEY `user_id` (`user_id`) USING BTREE,
  CONSTRAINT `headportrait_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=41 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

/*Data for the table `headportrait` */

insert  into `headportrait`(`id`,`user_id`,`image_url`) values (39,10,'userhead/d206359e-922c-4582-b74b-7d5bbcd60518b97b7ad1e78cbe0dd12780ea3fea3f3a.jpg'),(40,10,'userhead/3034c136-bceb-4c12-9fdc-e036f0659ce975cfed6c7ef5ac81c0786e7fe44574f8.jpg');

/*Table structure for table `log` */

DROP TABLE IF EXISTS `log`;

CREATE TABLE `log` (
  `user_name` varchar(255) DEFAULT NULL,
  `user_id` int(11) DEFAULT NULL,
  `operation` varchar(255) DEFAULT NULL,
  `time` int(11) DEFAULT NULL,
  `result` varchar(255) DEFAULT NULL,
  `date` varchar(255) DEFAULT NULL,
  KEY `user_id` (`user_id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

/*Data for the table `log` */

insert  into `log`(`user_name`,`user_id`,`operation`,`time`,`result`,`date`) values ('admin',10,'查看用户自己的留言',4,'成功','2019-08-20 13:44:32'),('admin',10,'查看用户所在组的留言',1,'成功','2019-08-20 13:44:33'),('admin',10,'查看其他组的留言',7,'成功','2019-08-20 13:44:33'),('admin',10,'查看所有人的留言',4,'成功','2019-08-20 13:44:34'),('admin',10,'查看所有的用户信息',14,'成功','2019-08-20 13:44:34'),('admin',10,'查看同组用户信息',3,'成功','2019-08-20 13:44:36'),('admin',10,'查看个人用户信息',2,'成功','2019-08-20 13:44:38'),('admin',10,'删除留言',41,'成功','2019-08-20 13:44:48'),('admin',10,'修改留言',98,'成功','2019-08-20 13:44:51'),('admin',10,'查看个人用户信息',3,'成功','2019-08-20 13:44:55'),('admin',10,'编辑个人用户信息',65,'成功','2019-08-20 13:44:59'),('admin',10,'新建留言',65,'成功','2019-08-20 13:45:12'),('admin',10,'查看个人用户信息',8,'成功','2019-08-20 15:49:16'),('admin',10,'查看个人用户信息',7,'成功','2019-08-20 16:34:02'),('admin',10,'查看个人用户信息',8,'成功','2019-08-20 16:34:57'),('admin',10,'查看个人用户信息',9,'成功','2019-08-20 16:36:32'),('admin',10,'查看其他组的留言',8,'成功','2019-08-20 16:50:45'),('admin',10,'查看用户自己的留言',3,'成功','2019-08-20 16:50:50'),('admin',10,'查看其他组的留言',3,'成功','2019-08-20 16:50:53'),('admin',10,'查看其他组的留言',8,'成功','2019-08-20 17:15:02'),('admin',10,'查看其他组的留言',11,'成功','2019-08-20 17:16:11'),('admin',10,'查看所有人的留言',10,'成功','2019-08-20 17:20:11'),('admin',10,'查看其他组的留言',9,'成功','2019-08-20 17:21:45'),('admin',10,'查看其他组的留言',7,'成功','2019-08-20 17:23:36'),('admin',10,'查看其他组的留言',12,'成功','2019-08-20 17:25:47'),('admin',10,'查看其他组的留言',7,'成功','2019-08-21 08:49:48'),('admin',10,'查看个人用户信息',7,'成功','2019-08-21 08:49:49'),('ii',9,'查看同组用户信息',4,'成功','2019-08-21 08:50:09'),('ii',9,'查看所有的用户信息',10,'成功','2019-08-21 08:50:13'),('admin',10,'查看个人用户信息',11,'成功','2019-08-21 09:05:03'),('admin',10,'查看个人用户信息',8,'成功','2019-08-21 09:08:00'),('admin',10,'查看个人用户信息',8,'成功','2019-08-21 09:09:50'),('admin',10,'查看个人用户信息',7,'成功','2019-08-21 09:13:30'),('admin',10,'查看个人用户信息',9,'成功','2019-08-21 09:15:17'),('admin',10,'查看个人用户信息',8,'成功','2019-08-21 09:18:38'),('admin',10,'查看个人用户信息',7,'成功','2019-08-21 09:25:56'),('admin',10,'查看个人用户信息',5,'成功','2019-08-21 09:28:42'),('admin',10,'查看个人用户信息',8,'成功','2019-08-21 09:33:20'),('admin',10,'查看个人用户信息',9,'成功','2019-08-21 09:37:02'),('admin',10,'查看个人用户信息',7,'成功','2019-08-21 09:39:08'),('admin',10,'查看个人用户信息',7,'成功','2019-08-21 09:39:58'),('admin',10,'查看个人用户信息',9,'成功','2019-08-21 09:43:28'),('admin',10,'查看个人用户信息',8,'成功','2019-08-21 09:44:10'),('admin',10,'查看个人用户信息',7,'成功','2019-08-21 09:45:00'),('admin',10,'查看个人用户信息',8,'成功','2019-08-21 09:47:39'),('admin',10,'查看个人用户信息',4,'成功','2019-08-21 09:47:47'),('admin',10,'查看其他组的留言',8,'成功','2019-08-21 09:55:31'),('admin',10,'查看其他组的留言',7,'成功','2019-08-21 10:00:34'),('admin',10,'查看其他组的留言',7,'成功','2019-08-21 10:02:42'),('admin',10,'查看其他组的留言',7,'成功','2019-08-21 10:06:15'),('admin',10,'查看个人用户信息',7,'成功','2019-08-21 10:07:25'),('admin',10,'删除留言',41,'成功','2019-08-21 10:07:27'),('admin',10,'查看其他组的留言',4,'成功','2019-08-21 10:07:28'),('admin',10,'查看其他组的留言',7,'成功','2019-08-21 10:15:43'),('admin',10,'查看其他组的留言',7,'成功','2019-08-21 10:18:15'),('admin',10,'查看其他组的留言',7,'成功','2019-08-21 10:19:17'),('admin',10,'查看其他组的留言',6,'成功','2019-08-21 10:21:43'),('admin',10,'查看所有人的留言',9,'成功','2019-08-21 10:22:26'),('admin',10,'查看其他组的留言',6,'成功','2019-08-21 10:23:34'),('admin',10,'查看个人用户信息',6,'成功','2019-08-21 10:59:00'),('admin',10,'查看其他组的留言',7,'成功','2019-08-21 11:08:22'),('admin',10,'查看用户自己的留言',3,'成功','2019-08-21 11:08:24'),('admin',10,'查看其他组的留言',3,'成功','2019-08-21 11:08:27'),('admin',10,'查看其他组的留言',2,'成功','2019-08-21 11:09:19'),('admin',10,'查看其他组的留言',8,'成功','2019-08-21 11:10:59'),('admin',10,'查看其他组的留言',7,'成功','2019-08-21 11:15:05'),('admin',10,'查看其他组的留言',8,'成功','2019-08-21 11:17:36'),('admin',10,'查看个人用户信息',6,'成功','2019-08-21 11:17:42'),('admin',10,'查看个人用户信息',3,'成功','2019-08-21 11:19:36'),('admin',10,'查看个人用户信息',9,'成功','2019-08-21 11:21:44'),('admin',10,'查看个人用户信息',4,'成功','2019-08-21 11:21:47'),('admin',10,'查看个人用户信息',4,'成功','2019-08-21 11:21:50'),('admin',10,'查看个人用户信息',7,'成功','2019-08-21 11:22:56'),('admin',10,'查看个人用户信息',7,'成功','2019-08-21 11:25:45'),('admin',10,'查看个人用户信息',9,'成功','2019-08-21 11:26:05'),('admin',10,'查看个人用户信息',7,'成功','2019-08-21 11:28:28'),('admin',10,'查看个人用户信息',7,'成功','2019-08-21 11:31:06'),('admin',10,'查看个人用户信息',7,'成功','2019-08-21 12:21:10'),('admin',10,'查看个人用户信息',7,'成功','2019-08-21 12:26:50'),('admin',10,'查看个人用户信息',9,'成功','2019-08-21 12:28:34'),('admin',10,'查看个人用户信息',4,'成功','2019-08-21 12:29:13'),('admin',10,'查看个人用户信息',2,'成功','2019-08-21 12:29:36'),('admin',10,'查看其他组的留言',4,'成功','2019-08-21 12:29:58'),('admin',10,'查看其他组的留言',16,'成功','2019-08-21 12:31:56'),('admin',10,'查看其他组的留言',8,'成功','2019-08-21 12:32:41'),('admin',10,'查看其他组的留言',4,'成功','2019-08-21 12:32:46'),('admin',10,'查看所有人的留言',4,'成功','2019-08-21 12:32:47'),('admin',10,'查看其他组的留言',0,'成功','2019-08-21 12:32:58'),('admin',10,'查看用户自己的留言',15,'成功','2019-08-21 12:33:02'),('admin',10,'查看个人用户信息',16,'成功','2019-08-21 12:33:05'),('admin',10,'查看其他组的留言',0,'成功','2019-08-21 12:33:20'),('admin',10,'查看个人用户信息',0,'成功','2019-08-21 12:33:36'),('admin',10,'查看个人用户信息',15,'成功','2019-08-21 12:41:27'),('admin',10,'查看其他组的留言',0,'成功','2019-08-21 12:41:33'),('admin',10,'查看其他组的留言',15,'成功','2019-08-21 12:42:36'),('admin',10,'查看其他组的留言',8,'成功','2019-08-21 12:43:14'),('admin',10,'查看其他组的留言',9,'成功','2019-08-21 12:45:04'),('admin',10,'查看其他组的留言',6,'成功','2019-08-21 12:45:43'),('admin',10,'查看其他组的留言',9,'成功','2019-08-21 12:49:42'),('admin',10,'查看其他组的留言',8,'成功','2019-08-21 12:55:36'),('admin',10,'查看其他组的留言',7,'成功','2019-08-21 12:58:36'),('admin',10,'查看其他组的留言',7,'成功','2019-08-21 13:03:17'),('admin',10,'查看其他组的留言',9,'成功','2019-08-21 13:05:08'),('admin',10,'查看其他组的留言',7,'成功','2019-08-21 13:05:36'),('admin',10,'查看个人用户信息',5,'成功','2019-08-21 13:06:08'),('admin',10,'查看个人用户信息',3,'成功','2019-08-21 13:06:33'),('admin',10,'查看个人用户信息',2,'成功','2019-08-21 13:07:54'),('admin',10,'查看个人用户信息',3,'成功','2019-08-21 13:08:14'),('admin',10,'查看个人用户信息',6,'成功','2019-08-21 13:08:41'),('admin',10,'查看个人用户信息',7,'成功','2019-08-21 13:12:12'),('admin',10,'查看个人用户信息',5,'成功','2019-08-21 13:12:41'),('admin',10,'查看其他组的留言',7,'成功','2019-08-21 13:26:07'),('admin',10,'查看其他组的留言',8,'成功','2019-08-21 13:27:02'),('admin',10,'查看其他组的留言',8,'成功','2019-08-21 13:32:33'),('admin',10,'查看其他组的留言',8,'成功','2019-08-21 13:35:28'),('admin',10,'查看其他组的留言',8,'成功','2019-08-21 13:36:25'),('admin',10,'查看其他组的留言',7,'成功','2019-08-21 13:38:18'),('admin',10,'查看其他组的留言',3,'成功','2019-08-21 13:39:10'),('admin',10,'查看个人用户信息',5,'成功','2019-08-21 13:39:26'),('admin',10,'查看同组用户信息',3,'成功','2019-08-21 13:39:28'),('admin',10,'查看个人用户信息',2,'成功','2019-08-21 13:39:30'),('admin',10,'查看个人用户信息',11,'成功','2019-08-21 13:42:51'),('admin',10,'查看其他组的留言',12,'成功','2019-08-21 13:42:54'),('admin',10,'查看个人用户信息',4,'成功','2019-08-21 13:43:05'),('admin',10,'查看其他组的留言',3,'成功','2019-08-21 13:43:11'),('admin',10,'查看个人用户信息',3,'成功','2019-08-21 13:43:19'),('admin',10,'查看其他组的留言',8,'成功','2019-08-21 13:45:57'),('admin',10,'查看个人用户信息',5,'成功','2019-08-21 13:47:01'),('admin',10,'查看个人用户信息',2,'成功','2019-08-21 13:47:26'),('admin',10,'查看个人用户信息',2,'成功','2019-08-21 13:48:12'),('admin',10,'查看其他组的留言',8,'成功','2019-08-21 13:56:13'),('admin',10,'查看所有人的留言',4,'成功','2019-08-21 13:56:14'),('admin',10,'查看个人用户信息',10,'成功','2019-08-21 13:56:15'),('admin',10,'查看其他组的留言',7,'成功','2019-08-21 13:58:02'),('admin',10,'查看所有人的留言',3,'成功','2019-08-21 13:58:03'),('admin',10,'查看个人用户信息',9,'成功','2019-08-21 13:58:04'),('admin',10,'查看所有人的留言',8,'成功','2019-08-21 13:58:53'),('admin',10,'查看个人用户信息',10,'成功','2019-08-21 13:59:02'),('admin',10,'查看个人用户信息',12,'成功','2019-08-21 14:01:10'),('admin',10,'查看所有人的留言',8,'成功','2019-08-21 14:01:17'),('admin',10,'查看其他组的留言',8,'成功','2019-08-21 14:03:54'),('admin',10,'查看其他组的留言',3,'成功','2019-08-21 14:04:45'),('admin',10,'查看个人用户信息',12,'成功','2019-08-21 14:18:10'),('admin',10,'查看其他组的留言',6,'成功','2019-08-21 14:18:14'),('admin',10,'查看个人用户信息',3,'成功','2019-08-21 14:18:25'),('admin',10,'查看个人用户信息',11,'成功','2019-08-21 14:18:51'),('admin',10,'查看所有人的留言',7,'成功','2019-08-21 14:18:57'),('admin',10,'查看个人用户信息',10,'成功','2019-08-21 14:19:51'),('admin',10,'查看所有人的留言',7,'成功','2019-08-21 14:19:53'),('admin',10,'查看个人用户信息',2,'成功','2019-08-21 14:20:19'),('admin',10,'查看个人用户信息',11,'成功','2019-08-21 14:22:00'),('admin',10,'查看所有人的留言',8,'成功','2019-08-21 14:22:04'),('admin',10,'查看所有人的留言',8,'成功','2019-08-21 14:23:02'),('admin',10,'查看所有人的留言',11,'成功','2019-08-21 14:26:27'),('admin',10,'查看所有人的留言',3,'成功','2019-08-21 14:26:28'),('admin',10,'查看其他组的留言',11,'成功','2019-08-21 14:29:27'),('admin',10,'查看个人用户信息',6,'成功','2019-08-21 14:32:07'),('admin',10,'查看个人用户信息',11,'成功','2019-08-21 14:55:24'),('admin',10,'查看个人用户信息',4,'成功','2019-08-21 14:55:26'),('admin',10,'查看其他组用户信息',11,'成功','2019-08-21 14:55:32'),('admin',10,'查看所有人的留言',4,'成功','2019-08-21 14:55:35'),('admin',10,'查看个人用户信息',11,'成功','2019-08-21 15:06:38'),('admin',10,'查看个人用户信息',11,'成功','2019-08-21 15:08:53'),('admin',10,'查看个人用户信息',12,'成功','2019-08-21 15:10:23'),('admin',10,'查看个人用户信息',11,'成功','2019-08-21 15:12:15'),('admin',10,'查看个人用户信息',13,'成功','2019-08-21 15:13:35'),('admin',10,'查看个人用户信息',6,'成功','2019-08-21 15:13:48'),('admin',10,'查看个人用户信息',16,'成功','2019-08-21 15:22:18'),('admin',10,'查看个人用户信息',11,'成功','2019-08-21 15:22:55'),('admin',10,'查看个人用户信息',9,'成功','2019-08-21 15:23:39'),('admin',10,'查看个人用户信息',11,'成功','2019-08-21 15:24:43'),('admin',10,'查看个人用户信息',12,'成功','2019-08-21 15:26:00'),('admin',10,'查看个人用户信息',12,'成功','2019-08-21 15:29:28'),('admin',10,'查看个人用户信息',16,'成功','2019-08-21 15:31:18'),('admin',10,'查看个人用户信息',12,'成功','2019-08-21 15:33:16'),('admin',10,'查看个人用户信息',11,'成功','2019-08-21 15:36:24'),('admin',10,'查看个人用户信息',13,'成功','2019-08-21 15:37:42'),('admin',10,'查看个人用户信息',12,'成功','2019-08-21 15:43:51'),('admin',10,'查看个人用户信息',11,'成功','2019-08-21 15:54:34'),('admin',10,'查看个人用户信息',10,'成功','2019-08-21 15:57:35'),('admin',10,'查看个人用户信息',9,'成功','2019-08-21 15:59:52'),('admin',10,'查看个人用户信息',11,'成功','2019-08-21 16:01:44'),('admin',10,'查看其他组的留言',12,'成功','2019-08-21 16:01:49'),('admin',10,'查看个人用户信息',4,'成功','2019-08-21 16:01:56'),('admin',10,'查看个人用户信息',3,'成功','2019-08-21 16:02:08'),('admin',10,'查看个人用户信息',12,'成功','2019-08-21 16:07:14'),('admin',10,'查看个人用户信息',3,'成功','2019-08-21 16:07:19'),('admin',10,'查看所有人的留言',5,'成功','2019-08-21 16:07:24');

/*Table structure for table `message` */

DROP TABLE IF EXISTS `message`;

CREATE TABLE `message` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `label` varchar(255) DEFAULT NULL,
  `detail` varchar(255) DEFAULT NULL,
  `date_create` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `date_edit` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `user_id` int(11) NOT NULL,
  PRIMARY KEY (`id`) USING BTREE,
  KEY `user_id` (`user_id`) USING BTREE,
  CONSTRAINT `message_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=69 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

/*Data for the table `message` */

insert  into `message`(`id`,`label`,`detail`,`date_create`,`date_edit`,`user_id`) values (7,'留言7','留言7内容','2019-08-07 09:00:04','2019-08-07 09:00:04',4),(8,'留言8','留言8内容','2019-08-07 09:00:05','2019-08-07 09:00:05',4),(10,'留言10','留言10内容','2019-08-07 09:00:07','2019-08-15 16:54:12',5),(11,'留言11','留言11内容','2019-08-07 09:00:07','2019-08-07 09:00:07',6),(13,'留言13','留言13内容','2019-08-07 09:00:09','2019-08-07 09:00:09',7),(14,'留言14','留言14内容','2019-08-07 09:00:10','2019-08-07 09:00:10',7),(17,'留言17','留言17内容3','2019-08-07 09:02:06','2019-08-20 13:44:51',9),(38,'fdgdfg','nmsl22222','2019-08-07 04:17:52','2019-08-07 04:17:52',2),(39,'zzzz','zzz1','2019-08-07 04:17:56','2019-08-09 08:51:52',2),(59,'=====111','zzzzzzzz11111','2019-08-13 02:12:00','2019-08-13 03:47:37',10),(60,'nmsl','nmsl','2019-08-14 04:11:12','2019-08-14 04:11:12',1),(62,'nmskll','nmsl','2019-08-14 04:38:40','2019-08-14 04:38:40',1),(63,'11111','111111x','2019-08-15 12:23:38','2019-08-15 12:23:46',1),(64,'xx','xx1112','2019-08-15 15:11:23','2019-08-20 10:34:41',10),(65,'x','x','2019-08-19 16:29:27','2019-08-19 16:29:27',3),(66,'fdgdfg','asd','2019-08-19 17:00:58','2019-08-19 17:00:58',1),(68,'xx','x','2019-08-20 13:45:12','2019-08-20 13:45:12',10);

/*Table structure for table `method` */

DROP TABLE IF EXISTS `method`;

CREATE TABLE `method` (
  `method_url` varchar(255) NOT NULL,
  `method_name` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`method_url`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

/*Data for the table `method` */

insert  into `method`(`method_url`,`method_name`) values ('createMessage','新建留言'),('deleteMessage','删除留言'),('editMessageSuccess','修改留言'),('editPersonInfoSuccess','编辑个人用户信息'),('editRoleHasPermissionsSuccess','编辑角色权限'),('editUserInfoSuccess','编辑用户信息'),('editUsersHaveRolesSuccess','编辑用户拥有的角色'),('intoEditRolesHavePermissions','查看角色拥有的权限'),('intoEditUsersHasRoles','查看所有用户拥有的角色'),('loginVerify','登入'),('logout','注销'),('queryAllMessage','查看所有人的留言'),('queryAllRoles','查看所有角色'),('queryAllUserInfo','查看所有的用户信息'),('queryOtherGroupMessage','查看其他组的留言'),('queryOtherGroupUserInfo','查看其他组用户信息'),('queryPersonInfo','查看个人用户信息'),('queryPersonMessage','查看用户自己的留言'),('querySameGroupMessage','查看用户所在组的留言'),('querySameGroupUserInfo','查看同组用户信息');

/*Table structure for table `permission` */

DROP TABLE IF EXISTS `permission`;

CREATE TABLE `permission` (
  `id` int(11) NOT NULL,
  `name` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

/*Data for the table `permission` */

insert  into `permission`(`id`,`name`) values (1,'编辑自己的用户信息'),(2,'编辑所在用户组的人的用户信息'),(3,'编辑其他用户组的人的用户信息'),(4,'浏览自己的用户信息'),(5,'浏览所在用户组的人的用户信息'),(6,'浏览其他用户组的人的用户信息'),(7,'新建留言'),(8,'删除自己的留言'),(9,'删除所在用户组的人的留言'),(10,'删除其他用户组的人的留言'),(11,'编辑自己的留言'),(12,'编辑所在用户组的人的留言'),(13,'编辑其他用户组的人的留言'),(14,'浏览自己的留言'),(15,'浏览所在组的人的留言'),(16,'浏览其他组的人的留言'),(17,'给用户分配角色和权限'),(18,'查看日志');

/*Table structure for table `role` */

DROP TABLE IF EXISTS `role`;

CREATE TABLE `role` (
  `id` int(11) NOT NULL,
  `name` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

/*Data for the table `role` */

insert  into `role`(`id`,`name`) values (1,'普通用户'),(2,'组长'),(3,'超级管理员');

/*Table structure for table `role_permission` */

DROP TABLE IF EXISTS `role_permission`;

CREATE TABLE `role_permission` (
  `role_id` int(11) NOT NULL,
  `permission_id` int(11) NOT NULL,
  KEY `role_id` (`role_id`) USING BTREE,
  KEY `permission_id` (`permission_id`) USING BTREE,
  CONSTRAINT `role_permission_ibfk_1` FOREIGN KEY (`role_id`) REFERENCES `role` (`id`),
  CONSTRAINT `role_permission_ibfk_2` FOREIGN KEY (`permission_id`) REFERENCES `permission` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

/*Data for the table `role_permission` */

insert  into `role_permission`(`role_id`,`permission_id`) values (2,9),(2,12),(3,3),(3,10),(3,13),(3,17),(2,2),(2,6),(2,16),(1,5),(1,7),(1,8),(1,15),(3,12),(1,11),(1,4),(1,14),(3,18),(1,1);

/*Table structure for table `test` */

DROP TABLE IF EXISTS `test`;

CREATE TABLE `test` (
  `test_id` int(11) NOT NULL,
  PRIMARY KEY (`test_id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

/*Data for the table `test` */

insert  into `test`(`test_id`) values (0),(1);

/*Table structure for table `user` */

DROP TABLE IF EXISTS `user`;

CREATE TABLE `user` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) DEFAULT NULL,
  `password` varchar(255) DEFAULT NULL,
  `email` varchar(255) DEFAULT NULL,
  `phone` varchar(255) DEFAULT NULL,
  `group_id` int(11) NOT NULL,
  `headportrait_id` int(11) DEFAULT NULL,
  `money` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`) USING BTREE,
  KEY `group_id` (`group_id`) USING BTREE,
  CONSTRAINT `user_ibfk_1` FOREIGN KEY (`group_id`) REFERENCES `group` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

/*Data for the table `user` */

insert  into `user`(`id`,`name`,`password`,`email`,`phone`,`group_id`,`headportrait_id`,`money`) values (1,'aa','aa','aaz','1111xa',1,0,0),(2,'bb','bb','bb','b11x',1,0,0),(3,'cc','cc','cc','cczxx',1,0,0),(4,'dd','dd','dd','dd',2,0,95),(5,'ee','ee','ee','ee',2,0,5),(6,'ff','ff','ff','ff',2,0,0),(7,'gg','gg','gg',' xx',3,0,0),(8,'hh','hh','hh你你','hh',3,0,0),(9,'ii','ii','ii','xx',3,0,0),(10,'admin','admin','admin搜索x','1212111x',4,40,7);

/*Table structure for table `user_role` */

DROP TABLE IF EXISTS `user_role`;

CREATE TABLE `user_role` (
  `user_id` int(11) NOT NULL,
  `role_id` int(11) NOT NULL,
  KEY `user_id` (`user_id`) USING BTREE,
  KEY `role_id` (`role_id`) USING BTREE,
  CONSTRAINT `user_role_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`),
  CONSTRAINT `user_role_ibfk_2` FOREIGN KEY (`role_id`) REFERENCES `role` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

/*Data for the table `user_role` */

insert  into `user_role`(`user_id`,`role_id`) values (1,1),(1,2),(2,1),(3,1),(5,1),(4,2),(4,1),(6,1),(7,1),(7,2),(8,1),(9,1),(10,1),(10,3),(10,2);

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;
